generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model DrinkCategories {
  id       BigInt  @id @default(autoincrement())
  Category String
  Order    Decimal? @unique
  imageUrl String?
  Drinks   Drinks[]
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model Drinks {
  id          BigInt    @id @default(autoincrement())
  name        String
  description String?
  price       Float
  isActive    Boolean   @default(true)
  category_id BigInt
  type        String?
  imageUrl    String?
  quantity    Decimal?
  order       Decimal?
  unit_type   UnitType  @default(ML)
  DrinkCategories DrinkCategories @relation(fields: [category_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model ShishaBrands {
  id               BigInt            @id(map: "ShishaBrands2_pkey") @default(autoincrement())
  Brand            String?
  Selection_id     BigInt?
  Type             ShishaType?
  logoUrl          String?
  ShishaSelections ShishaSelections? @relation(fields: [Selection_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  ShishaFlavors    ShishaFlavors[]
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model ShishaFlavors {
  id           BigInt       @id(map: "ShishaFlavors_pkey1") @default(autoincrement())
  name         String
  description  String?
  isActive     Boolean      @default(true)
  imageUrl     String
  brand_id     BigInt
  ShishaBrands ShishaBrands @relation(fields: [brand_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "ShishaFlavors_brand_id_fkey1")
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model ShishaSelections {
  id           BigInt         @id(map: "ShishaSelections2_pkey") @default(autoincrement())
  Selection    String?
  Price        Decimal?       @db.Decimal
  ShishaBrands ShishaBrands[]
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model Venues {
  id       String  @id(map: "Venue_pkey")
  name     String
  address  String?
  phone    String?
  mapUrl   String?
  subtitle String?
}

enum ShishaType {
  blond
  dark
  cigar
}

enum unitType {
  GR  @map("гр")
  ML  @map("мл")
}
